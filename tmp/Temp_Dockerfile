# Start from a Ubuntu base image
FROM ubuntu:latest
LABEL maintainer="https://github.com/asabhi6776"
# Install necessary packages
RUN apt-get update && \
    DEBIAN_FRONTEND=noninteractive apt-get install -y \
    xfce4 \
    xfce4-terminal \
    novnc \
    supervisor \
    x11vnc \
    xvfb \
    wget \
    net-tools \
    # python-numpy \
    openssh-server \
    firefox \
    && apt-get clean

# Install NoVNC
RUN wget https://github.com/novnc/noVNC/archive/v1.2.0.tar.gz && \
    tar -xzf v1.2.0.tar.gz && \
    mv noVNC-1.2.0 /novnc && \
    rm -rf v1.2.0.tar.gz

# Add supervisor configuration file
ADD supervisord.conf /etc/supervisor/conf.d/

# Expose ports for VNC and NoVNC
EXPOSE 5900 6080

# Start supervisor
CMD ["/usr/bin/supervisord"]
